{% extends 'base.html' %} {% block content %} 
<h1 class="text-3xl font-bold mb-4">Surveys</h1>
<ul class="list-none">
    {% for survey in surveys %}
        <li class="bg-white shadow-md rounded p-4 mb-4">
            <h2 class="text-xl font-bold mb-2">{{ survey.title }}</h2>
            <p class="text-gray-600 mb-4">{{ survey.description }}</p>
            <div class="flex justify-between">
                <a href="{% url 'take_survey' survey.pk %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Take Survey</a>
                <a href="{% url 'survey_responses' survey.pk %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">View Responses</a>
                <button onclick="copyToClipboard(`{% url 'take_survey' survey.pk %}`)" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Share Survey</button>
                <a href="{% url 'delete_survey' survey.pk %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Delete Survey</a>
            </div>
        </li>
    {% endfor %}
</ul>
<p class="mt-4"><a href="{% url 'create_survey' %}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Create a new survey</a></p>
<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(function() {
            alert('Survey link copied to clipboard!');
        }, function(err) {
            alert('Failed to copy survey link to clipboard.');
        });
    }
</script>
{% endblock %}


